# æ€æºç¬”è®°è„šæœ¬å·¥å…·é›†

è¿™æ˜¯ä¸€ä¸ªç”¨äºæ“ä½œæ€æºç¬”è®°ï¼ˆSiYuanï¼‰çš„è„šæœ¬å·¥å…·é›†ï¼Œä¸»è¦ç”¨äºæ‰¹é‡å¤„ç†ç¬”è®°æ•°æ®ã€å…ƒæ•°æ®ç®¡ç†ã€å†…å®¹å¯¼å…¥å¯¼å‡ºç­‰ã€‚

## ä¸»è¦åŠŸèƒ½

### ğŸ“ ç¬”è®°å¯¼å…¥ä¸ç®¡ç†
- **Markdownæ–‡ä»¶å¯¼å…¥**: `create_notes_from_md.py` - å°†æ–‡ä»¶å¤¹ä¸‹çš„Markdownæ–‡ä»¶æ‰¹é‡å¯¼å…¥åˆ°æ€æºç¬”è®°ã€‚
- **ä¸ºçŸ¥ç¬”è®°å¯¼å‡º**: `export_wiznotes_to_md.py` - ä»ä¸ºçŸ¥ç¬”è®°å¯¼å‡ºå•ç¯‡æˆ–æ‰¹é‡å¯¼å‡ºMarkdownç¬”è®°ã€‚
- **ä¸ºçŸ¥ç¬”è®°è½¬æ€æº**: `wiznotes_to_siyuan.py` - å®Œæ•´æµç¨‹ï¼šå¯¼å‡ºä¸ºçŸ¥ç¬”è®° -> å¯¼å…¥æ€æºç¬”è®° -> æ•´ç†æ–‡ä»¶ã€‚
- **æ•°æ®åº“æŸ¥è¯¢å¯¼å‡º**: `query_to_csv.py` - æ‰§è¡ŒSQLæŸ¥è¯¢å¹¶å°†ç»“æœå¯¼å‡ºä¸ºCSVæ–‡ä»¶ã€‚

### ğŸŒ ç½‘é¡µå†…å®¹å¤„ç†
- **URLè½¬Markdown**: `urls_to_markdown.py` - å°†ç½‘é¡µå†…å®¹æ‰¹é‡è½¬æ¢ä¸ºMarkdownæ–‡ä»¶ï¼Œæ”¯æŒåª’ä½“ä¸‹è½½ã€‚
- **URLè½¬æ€æº**: `urls_to_siyuan.py` - å®Œæ•´æµç¨‹ï¼šå‰ªè´´æ¿URL -> Markdown -> æ€æºç¬”è®°ã€‚
- **å‰ªè´´æ¿ç¬”è®°å¤„ç†**: `clipboard_notes_mailto_wiznotes.py` - ä»å‰ªè´´æ¿æå–æ–‡ç« é“¾æ¥ï¼Œæ‰¹é‡å‘é€åˆ°ä¸ºçŸ¥ç¬”è®°ã€‚
- **å‰ªè´´æ¿HTMLè½¬æ¢**: `clipboard_html_to_markdown.py` - å°†å‰ªè´´æ¿ä¸­çš„HTMLå†…å®¹ç›´æ¥è½¬æ¢ä¸ºMarkdownæ–‡ä»¶ã€‚
- **é£ä¹¦é“¾æ¥æ™ºèƒ½å¤„ç†**: è‡ªåŠ¨æ£€æµ‹é£ä¹¦é“¾æ¥å¹¶æå–å¾®ä¿¡å…¬ä¼—å·åŸæ–‡é“¾æ¥ï¼Œä¼˜å…ˆä½¿ç”¨åŸæ–‡å†…å®¹ã€‚
- **ç‰¹æ®Šç½‘ç«™å¤„ç†**: æ”¯æŒä»Šæ—¥å¤´æ¡ç­‰ç½‘ç«™çš„ä¹±ç ä¿®å¤ï¼Œæ™ºèƒ½ç¼–ç æ£€æµ‹å’Œå‹ç¼©å†…å®¹å¤„ç†ï¼ˆgzipã€deflateã€brotliï¼‰ã€‚
- **JavaScripté‡å®šå‘æ”¯æŒ**: å¯é€‰é›†æˆseleniumå¤„ç†éœ€è¦æµè§ˆå™¨æ¸²æŸ“çš„åŠ¨æ€ç½‘ç«™ã€‚

### ğŸ·ï¸ å…ƒæ•°æ®ç®¡ç†
- **å…ƒæ•°æ®æ·»åŠ **: `add_meta_data.py` - ä¸ºæ€æºç¬”è®°æ–‡æ¡£æ·»åŠ å…ƒæ•°æ®ä¿¡æ¯ã€‚
- **é…ç½®è¯»å–**: `read_siyuan_config.py` - è¯»å–æ€æºç¬”è®°é…ç½®ï¼Œå¯¼å‡ºå¿«æ·é”®è®¾ç½®ä¸ºMarkdownè¡¨æ ¼ã€‚

### ğŸ“Š é«˜çº§æ•°æ®æŸ¥è¯¢
- **SQLæŸ¥è¯¢ç³»ç»Ÿ**: `utilities/advanced_sql_queries.py` - æä¾›22ä¸ªå®ç”¨çš„æ€æºç¬”è®°æ•°æ®åº“æŸ¥è¯¢åœºæ™¯ï¼ŒåŒ…æ‹¬ï¼š
  - åŸºç¡€ç»Ÿè®¡æŸ¥è¯¢ï¼ˆæ–‡æ¡£æ€»ä½“ç»Ÿè®¡ã€å—ç±»å‹åˆ†å¸ƒã€ç¬”è®°æœ¬æ’è¡Œã€æ ‡é¢˜å±‚çº§åˆ†å¸ƒï¼‰
  - å†…å®¹åˆ†ææŸ¥è¯¢ï¼ˆå­—æ•°ç»Ÿè®¡ã€æ ‡ç­¾ä½¿ç”¨ã€å¼•ç”¨å…³ç³»ã€ä»£ç å—åˆ†æï¼‰
  - æ—¶é—´ç»´åº¦æŸ¥è¯¢ï¼ˆåˆ›å»ºæ—¶é—´åˆ†å¸ƒã€æ´»è·ƒæ–‡æ¡£ã€é•¿æœŸæœªæ›´æ–°ã€æ¯æ—¥å†™ä½œç»Ÿè®¡ï¼‰
  - é«˜çº§æŸ¥è¯¢ï¼ˆå­¤ç«‹æ–‡æ¡£æ£€æµ‹ã€é«˜ä»·å€¼æ–‡æ¡£è¯†åˆ«ã€æ ‡ç­¾å…±ç°ã€å¼•ç”¨ç½‘ç»œï¼‰
  - ç‰¹æ®Šç”¨é€”æŸ¥è¯¢ï¼ˆå›¾ç‰‡èµ„æºã€æ•°å­¦å…¬å¼ã€ä»»åŠ¡åˆ—è¡¨ã€è¡¨æ ¼ä½¿ç”¨ã€è‡ªå®šä¹‰å±æ€§ï¼‰
- **æŸ¥è¯¢æ¼”ç¤º**: `examples/advanced_query_demo.py` - äº¤äº’å¼æŸ¥è¯¢æ¼”ç¤ºè„šæœ¬ï¼Œæ”¯æŒåˆ†ç±»æµè§ˆå’Œå…³é”®è¯æœç´¢ã€‚

### âš™ï¸ é…ç½®ç®¡ç†ç³»ç»Ÿ
- **ç»Ÿä¸€é…ç½®**: `config.py` - ç»Ÿä¸€çš„é…ç½®ç®¡ç†ç±»ï¼Œæ”¯æŒå¯¼å‡ºç›®å½•ã€æ€æºç¬”è®°ã€ä¸ºçŸ¥ç¬”è®°ç­‰å„é¡¹é…ç½®ã€‚
- **é…ç½®ç®¡ç†å·¥å…·**: `config_manager.py` - å‘½ä»¤è¡Œå’Œäº¤äº’å¼é…ç½®ç®¡ç†å·¥å…·ï¼Œæ”¯æŒé…ç½®çš„æŸ¥çœ‹ã€ä¿®æ”¹ã€ä¿å­˜å’ŒåŠ è½½ã€‚
- **é…ç½®æ–‡ä»¶**: `project_config.json` - JSONæ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œä¾¿äºç‰ˆæœ¬æ§åˆ¶å’Œåˆ†äº«ã€‚

### â˜ï¸ äº‘å­˜å‚¨ç®¡ç†
- **ä¸ƒç‰›äº‘æ‰¹é‡åˆ é™¤**: `delete_qiniu_files.py` - ä¸ƒç‰›äº‘åŒæ­¥æ–‡ä»¶æ‰¹é‡åˆ é™¤å·¥å…·ï¼Œè§£å†³å®˜ç½‘æ‰¹é‡åˆ é™¤æ“ä½œç¼“æ…¢é—®é¢˜ã€‚è¯¦è§ `ä¸ƒç‰›äº‘æ–‡ä»¶æ‰¹é‡åˆ é™¤ä½¿ç”¨è¯´æ˜.md`ã€‚

### ğŸ› ï¸ æ ¸å¿ƒå·¥å…·åº“
- **utilitiesæ¨¡å—**ï¼šæä¾›ç»Ÿä¸€çš„APIå®¢æˆ·ç«¯å’Œç®¡ç†å™¨ï¼ŒåŒ…æ‹¬ï¼š
  - æ€æºç¬”è®°APIæ“ä½œï¼ˆSiyuanAPIã€NotebookManagerã€DocumentManagerã€BlockManagerï¼‰
  - Markdownå¯¼å…¥å™¨ï¼ˆMarkdownImporterï¼‰
  - åª’ä½“æ–‡ä»¶ç®¡ç†ï¼ˆMediaManagerã€MediaDownloaderï¼‰
  - ç½‘é¡µå†…å®¹å¤„ç†ï¼ˆWebDownloaderã€HTMLConverterï¼‰
  - å‰ªè´´æ¿ç®¡ç†ï¼ˆClipboardManagerï¼‰
  - é«˜çº§SQLæŸ¥è¯¢ï¼ˆAdvancedSQLQueriesï¼‰

## å®‰è£…è¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- Python 3.7+
- æ€æºç¬”è®°å®¢æˆ·ç«¯è¿è¡Œä¸­ï¼ˆç”¨äºéœ€è¦ä¸æ€æºäº¤äº’çš„åŠŸèƒ½ï¼‰

### ä¾èµ–åŒ…
é¦–å…ˆï¼Œè¯·é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€æœ‰å¿…éœ€çš„åº“ï¼š
```bash
pip install -r requirements.txt
```

ä¸»è¦ä¾èµ–åŒ…æ‹¬ï¼š
- `requests` - HTTPè¯·æ±‚åº“
- `python-dotenv` - ç¯å¢ƒå˜é‡ç®¡ç†
- `beautifulsoup4` - HTMLè§£æ
- `lxml` - XML/HTMLè§£æå™¨
- `html5lib` - HTML5è§£æå™¨
- `markdownify` - HTMLè½¬Markdown
- `html2text` - HTMLè½¬æ–‡æœ¬
- `Pillow` - å›¾åƒå¤„ç†
- `urllib3` - HTTPå®¢æˆ·ç«¯
- `aiohttp` - å¼‚æ­¥HTTPå®¢æˆ·ç«¯
- `aiofiles` - å¼‚æ­¥æ–‡ä»¶æ“ä½œ
- `qiniu` - ä¸ƒç‰›äº‘SDK
- `pyperclip` - å‰ªè´´æ¿æ“ä½œ
- `yagmail` - é‚®ä»¶å‘é€
- `brotli` - Brotliå‹ç¼©æ”¯æŒ
- `chardet` - æ™ºèƒ½ç¼–ç æ£€æµ‹

**å¯é€‰ä¾èµ–**ï¼ˆç”¨äºå¤„ç†JavaScripté‡å®šå‘ç½‘ç«™ï¼‰ï¼š
- `selenium` - æµè§ˆå™¨è‡ªåŠ¨åŒ–
- `webdriver-manager` - ChromeDriverè‡ªåŠ¨ç®¡ç†

## å¿«é€Ÿå¼€å§‹

### 1. åŸºç¡€é…ç½®

#### ç¯å¢ƒå˜é‡é…ç½®
åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼Œå¹¶æ ¹æ®éœ€è¦é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# æ€æºç¬”è®°APIé…ç½®
SIYUAN_API_URL=http://127.0.0.1:6806
SIYUAN_API_TOKEN=your_api_token_here

# ä¸ºçŸ¥ç¬”è®°é…ç½®ï¼ˆå¯é€‰ï¼‰
WIZ_USERNAME=your_username@example.com
WIZ_PASSWORD=your_password

# ä¸ƒç‰›äº‘é…ç½®ï¼ˆå¯é€‰ï¼‰
QINIU_ACCESS_KEY=your_access_key_here
QINIU_SECRET_KEY=your_secret_key_here
QINIU_BUCKET_NAME=your_bucket_name_here

# é‚®ä»¶é…ç½®ï¼ˆå¯é€‰ï¼‰
MAIL_189_HOST=smtp.189.cn
MAIL_189_USER=your_email@189.cn
MAIL_189_PASSWORD=your_password
MAIL_RECEIVER=your_wiznote_email@mywiz.cn
```

#### é¡¹ç›®é…ç½®ç®¡ç†
æœ¬é¡¹ç›®æä¾›äº†ç»Ÿä¸€çš„é…ç½®ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒé€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†å¯¼å‡ºç›®å½•ã€æ€æºç¬”è®°è®¾ç½®ç­‰ï¼š

```bash
# æŸ¥çœ‹å½“å‰é…ç½®
python config_manager.py --show

# äº¤äº’å¼é…ç½®ç¼–è¾‘
python config_manager.py --interactive

# è®¾ç½®åŸºç¡€å¯¼å‡ºç›®å½•
python config_manager.py --base "D:/ç¬”è®°å¤‡ä»½"

# ä¿å­˜é…ç½®åˆ°æ–‡ä»¶
python config_manager.py --save my_config.json

# ä»æ–‡ä»¶åŠ è½½é…ç½®
python config_manager.py --load my_config.json
```

è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒï¼š`é…ç½®ç³»ç»Ÿä½¿ç”¨è¯´æ˜.md`

### 2. è·å–æ€æºAPI Token
1. æ‰“å¼€æ€æºç¬”è®°å®¢æˆ·ç«¯ã€‚
2. è¿›å…¥ `è®¾ç½®` -> `å…³äº`ã€‚
3. åœ¨ `API Token` å¤„æ‰¾åˆ°ä½ çš„Tokenã€‚
4. å¤åˆ¶å¹¶ç²˜è´´åˆ° `.env` æ–‡ä»¶ä¸­ã€‚

### 3. è¿è¡Œè„šæœ¬
æ ¹æ®ä½ çš„éœ€æ±‚æ‰§è¡Œç›¸åº”çš„è„šæœ¬ã€‚ä¾‹å¦‚ï¼š

```bash
# å°†å‰ªè´´æ¿ä¸­çš„URLä¸€é”®å­˜å…¥æ€æºï¼ˆæ”¯æŒé£ä¹¦é“¾æ¥æ™ºèƒ½å¤„ç†ï¼‰
python urls_to_siyuan.py

# å°†å‰ªè´´æ¿ä¸­çš„HTMLè½¬æ¢ä¸ºMarkdown
python clipboard_html_to_markdown.py

# è¿è¡ŒSQLæŸ¥è¯¢æ¼”ç¤º
python examples/advanced_query_demo.py

# æ¼”ç¤ºé£ä¹¦é“¾æ¥å¤„ç†åŠŸèƒ½
python demo_feishu_feature.py

# æµ‹è¯•ç‰¹æ®Šç½‘ç«™å¤„ç†åŠŸèƒ½
python test/test_toutiao_fix.py
```

## æ–°åŠŸèƒ½ä½¿ç”¨æŒ‡å—

### ğŸ” é«˜çº§SQLæŸ¥è¯¢ç³»ç»Ÿ

æœ¬é¡¹ç›®æä¾›äº†22ä¸ªå®ç”¨çš„æ€æºç¬”è®°æ•°æ®åº“æŸ¥è¯¢åœºæ™¯ï¼Œå¸®åŠ©æ‚¨æ·±å…¥åˆ†æç¬”è®°æ•°æ®ï¼š

#### åŸºæœ¬ä½¿ç”¨
```python
from utilities.advanced_sql_queries import get_query_sql, get_all_query_names
from utilities.api_client import SiyuanAPI

# è·å–æ‰€æœ‰æŸ¥è¯¢åç§°
queries = get_all_query_names()
print(f"å¯ç”¨æŸ¥è¯¢: {len(queries)}ä¸ª")

# è·å–ç‰¹å®šæŸ¥è¯¢çš„SQL
sql = get_query_sql("é«˜ä»·å€¼æ–‡æ¡£è¯†åˆ«")

# æ‰§è¡ŒæŸ¥è¯¢
api = SiyuanAPI()
result = api.call_api('/api/query/sql', {'stmt': sql})
```

#### å‚æ•°åŒ–æŸ¥è¯¢
```python
from utilities.advanced_sql_queries import (
    get_documents_by_tag,
    get_documents_by_custom_attribute,
    get_documents_by_date_range
)

# æŸ¥è¯¢åŒ…å«"Python"æ ‡ç­¾çš„æ–‡æ¡£
sql = get_documents_by_tag("Python", 50)

# æŸ¥è¯¢åˆ†ç±»ä¸º"æŠ€æœ¯"çš„æ–‡æ¡£
sql = get_documents_by_custom_attribute("classify", "æŠ€æœ¯", 100)

# æŸ¥è¯¢æœ€è¿‘7å¤©æ›´æ–°çš„æ–‡æ¡£
sql = get_documents_by_date_range("2024-07-20", "2024-07-27", "updated", 50)
```

#### äº¤äº’å¼æŸ¥è¯¢æ¼”ç¤º
```bash
python examples/advanced_query_demo.py
```

è¯¦ç»†ä½¿ç”¨æŒ‡å—è¯·å‚è€ƒï¼š`docs/æ€æºç¬”è®°é«˜çº§SQLæŸ¥è¯¢ä½¿ç”¨æŒ‡å—.md`

### ğŸ”— é£ä¹¦é“¾æ¥æ™ºèƒ½å¤„ç†

æœ¬é¡¹ç›®æ”¯æŒé£ä¹¦é“¾æ¥çš„æ™ºèƒ½å¤„ç†ï¼Œè‡ªåŠ¨æå–å¾®ä¿¡å…¬ä¼—å·åŸæ–‡é“¾æ¥ï¼š

#### åŠŸèƒ½ç‰¹æ€§
- **è‡ªåŠ¨æ£€æµ‹**ï¼šè¯†åˆ«ä»¥ `https://waytoagi.feishu.cn/` å¼€å¤´çš„é£ä¹¦é“¾æ¥
- **æ™ºèƒ½æå–**ï¼šåœ¨é¡µé¢å‰10è¡Œä¸­æœç´¢å¾®ä¿¡å…¬ä¼—å·åŸæ–‡é“¾æ¥
- **ä¼˜å…ˆåŸæ–‡**ï¼šæ‰¾åˆ°åŸæ–‡é“¾æ¥æ—¶ä¼˜å…ˆä½¿ç”¨åŸæ–‡å†…å®¹
- **å›é€€æœºåˆ¶**ï¼šæœªæ‰¾åˆ°åŸæ–‡é“¾æ¥æ—¶ä½¿ç”¨é£ä¹¦é¡µé¢å†…å®¹
- **æ ¼å¼å…¼å®¹**ï¼šæ”¯æŒå¤šç§åŸæ–‡é“¾æ¥æ ¼å¼

#### æ”¯æŒçš„åŸæ–‡é“¾æ¥æ ¼å¼
```
åŸæ–‡é“¾æ¥ï¼šhttps://mp.weixin.qq.com/s/abc123
åŸæ–‡é“¾æ¥:https://mp.weixin.qq.com/s/def456
åŸæ–‡é“¾æ¥ï¼š https://mp.weixin.qq.com/s/ghi789
åŸæ–‡é“¾æ¥ : https://mp.weixin.qq.com/s/jkl012
```

#### ä½¿ç”¨æ–¹æ³•
```bash
# å¤åˆ¶é£ä¹¦é“¾æ¥åˆ°å‰ªè´´æ¿ï¼Œç„¶åè¿è¡Œï¼š
python urls_to_siyuan.py

# æˆ–è€…åªè½¬æ¢ä¸ºMarkdownï¼š
python urls_to_markdown.py
```

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒï¼š`docs/é£ä¹¦é“¾æ¥å¾®ä¿¡åŸæ–‡æå–åŠŸèƒ½è¯´æ˜.md`

### ğŸ› ï¸ ç‰¹æ®Šç½‘ç«™å¤„ç†

é¡¹ç›®åŒ…å«é’ˆå¯¹ç‰¹æ®Šç½‘ç«™çš„å¤„ç†ä¼˜åŒ–ï¼š

#### ç¼–ç å’Œå‹ç¼©å¤„ç†
- **æ™ºèƒ½ç¼–ç æ£€æµ‹**ï¼šä½¿ç”¨chardetè‡ªåŠ¨æ£€æµ‹å­—ç¬¦ç¼–ç 
- **å‹ç¼©å†…å®¹æ”¯æŒ**ï¼šè‡ªåŠ¨å¤„ç†gzipã€deflateã€brotliå‹ç¼©æ ¼å¼
- **å¤šç¼–ç å°è¯•**ï¼šæŒ‰ä¼˜å…ˆçº§å°è¯•UTF-8ã€GBKã€GB2312ç­‰ç¼–ç 
- **HTML metaè§£æ**ï¼šä»é¡µé¢metaæ ‡ç­¾æå–ç¼–ç ä¿¡æ¯

#### JavaScripté‡å®šå‘æ”¯æŒ
å¯¹äºéœ€è¦æµè§ˆå™¨æ¸²æŸ“çš„ç½‘ç«™ï¼Œå¯ä»¥å®‰è£…å¯é€‰ä¾èµ–ï¼š
```bash
# å®‰è£…seleniumæ”¯æŒ
pip install selenium webdriver-manager
```

#### ä½¿ç”¨ç¤ºä¾‹
```bash
# å¤„ç†ä»Šæ—¥å¤´æ¡ç­‰ç‰¹æ®Šç½‘ç«™ï¼ˆå·²è‡ªåŠ¨ä¼˜åŒ–ï¼‰
python urls_to_siyuan.py

# æŸ¥çœ‹å¤„ç†æ—¥å¿—äº†è§£ç¼–ç æ£€æµ‹è¿‡ç¨‹
```

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒï¼š`docs/ä»Šæ—¥å¤´æ¡ä¹±ç ä¿®å¤è¯´æ˜.md` å’Œ `docs/ä¿®å¤æ€»ç»“å’Œä½¿ç”¨æŒ‡å—.md`

### âš™ï¸ é…ç½®ç®¡ç†ç³»ç»Ÿ

#### å‘½ä»¤è¡Œé…ç½®ç®¡ç†
```bash
# æŸ¥çœ‹å½“å‰é…ç½®
python config_manager.py --show

# è®¾ç½®åŸºç¡€å¯¼å‡ºç›®å½•
python config_manager.py --base "D:/æˆ‘çš„ç¬”è®°å¤‡ä»½"

# è®¾ç½®å­ç›®å½•
python config_manager.py --subdir urls "ç½‘é¡µæ”¶é›†"

# ä¿å­˜é…ç½®
python config_manager.py --save my_config.json

# æµ‹è¯•è·¯å¾„é…ç½®
python config_manager.py --test
```

#### ç¨‹åºä¸­ä½¿ç”¨é…ç½®
```python
from config import get_config, get_wiznotes_path, get_urls_path

# è·å–é…ç½®å®ä¾‹
config = get_config()

# è·å–ç‰¹å®šè·¯å¾„
wiznotes_path = get_wiznotes_path()
urls_path = get_urls_path()

# ä½¿ç”¨é…ç½®å€¼
notebook_name = config.siyuan["default_notebook"]
max_workers = config.wiznotes["max_workers"]
```

### ğŸ“‹ å‰ªè´´æ¿å¤„ç†åŠŸèƒ½

#### HTMLè½¬Markdown
```bash
# å¤åˆ¶HTMLå†…å®¹åˆ°å‰ªè´´æ¿ï¼Œç„¶åè¿è¡Œï¼š
python clipboard_html_to_markdown.py
```

#### URLæ‰¹é‡å¤„ç†
```bash
# å¤åˆ¶å¤šä¸ªURLåˆ°å‰ªè´´æ¿ï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰ï¼Œç„¶åè¿è¡Œï¼š
python urls_to_markdown.py
python urls_to_siyuan.py
```

## é¡¹ç›®ç»“æ„

```
siyuan_scripts/
â”œâ”€â”€ docs/                        # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ æ€æºç¬”è®°API.md
â”‚   â”œâ”€â”€ æ€æºç¬”è®°æ•°æ®åº“è¡¨ä¸å­—æ®µ.md
â”‚   â”œâ”€â”€ æ€æºç¬”è®°é«˜çº§SQLæŸ¥è¯¢ä½¿ç”¨æŒ‡å—.md
â”‚   â”œâ”€â”€ æ€æºç¬”è®°SQLæŸ¥è¯¢ç³»ç»Ÿæ€»ç»“.md
â”‚   â”œâ”€â”€ é…ç½®ç³»ç»Ÿä½¿ç”¨è¯´æ˜.md
â”‚   â”œâ”€â”€ é£ä¹¦é“¾æ¥å¾®ä¿¡åŸæ–‡æå–åŠŸèƒ½è¯´æ˜.md
â”‚   â”œâ”€â”€ åŠŸèƒ½å®ç°æ€»ç»“.md
â”‚   â”œâ”€â”€ ä»Šæ—¥å¤´æ¡ä¹±ç ä¿®å¤è¯´æ˜.md
â”‚   â”œâ”€â”€ ä¿®å¤æ€»ç»“å’Œä½¿ç”¨æŒ‡å—.md
â”‚   â””â”€â”€ ä¸ƒç‰›äº‘æ–‡ä»¶æ‰¹é‡åˆ é™¤ä½¿ç”¨è¯´æ˜.md
â”œâ”€â”€ examples/                    # ç¤ºä¾‹ä»£ç 
â”‚   â”œâ”€â”€ advanced_query_demo.py   # SQLæŸ¥è¯¢æ¼”ç¤ºè„šæœ¬
â”‚   â””â”€â”€ siyuan_advanced_queries.json # å¯¼å‡ºçš„æŸ¥è¯¢æ•°æ®
â”œâ”€â”€ export_wiznotes/             # ä¸ºçŸ¥ç¬”è®°å¯¼å‡ºæ¨¡å—
â”‚   â”œâ”€â”€ wiz_client.py           # ä¸ºçŸ¥ç¬”è®°å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ note_exporter.py        # ç¬”è®°å¯¼å‡ºå™¨
â”‚   â”œâ”€â”€ collaboration_parser.py # åä½œç¬”è®°è§£æå™¨
â”‚   â””â”€â”€ utils.py                # å·¥å…·å‡½æ•°
â”œâ”€â”€ output/                      # è„šæœ¬è¾“å‡ºç›®å½•
â”œâ”€â”€ test/                        # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ test_feishu_integration.py # é£ä¹¦åŠŸèƒ½é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ test_feishu_wechat_extraction.py # é£ä¹¦å¾®ä¿¡é“¾æ¥æå–æµ‹è¯•
â”‚   â”œâ”€â”€ test_toutiao_fix.py     # ä»Šæ—¥å¤´æ¡ä¿®å¤æµ‹è¯•
â”‚   â””â”€â”€ ... (å…¶ä»–æµ‹è¯•æ–‡ä»¶)
â”œâ”€â”€ utilities/                   # æ ¸å¿ƒåŠŸèƒ½å·¥å…·åº“
â”‚   â”œâ”€â”€ api_client.py           # æ€æºAPIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ advanced_sql_queries.py # é«˜çº§SQLæŸ¥è¯¢æ¨¡å—
â”‚   â”œâ”€â”€ url_to_markdown.py      # URLè½¬Markdownè½¬æ¢å™¨
â”‚   â”œâ”€â”€ web_downloader.py       # ç½‘é¡µä¸‹è½½å™¨
â”‚   â”œâ”€â”€ html_converter.py       # HTMLè½¬æ¢å™¨
â”‚   â”œâ”€â”€ media_downloader.py     # åª’ä½“ä¸‹è½½å™¨
â”‚   â”œâ”€â”€ clipboard_manager.py    # å‰ªè´´æ¿ç®¡ç†
â”‚   â”œâ”€â”€ special_site_handler.py # ç‰¹æ®Šç½‘ç«™å¤„ç†å™¨
â”‚   â”œâ”€â”€ markdown_importer.py    # Markdownå¯¼å…¥å™¨
â”‚   â”œâ”€â”€ media_manager.py        # åª’ä½“ç®¡ç†å™¨
â”‚   â””â”€â”€ ... (å…¶ä»–å·¥å…·æ¨¡å—)
â”œâ”€â”€ add_meta_data.py             # æ·»åŠ å…ƒæ•°æ®
â”œâ”€â”€ api_test.ipynb               # APIæµ‹è¯•Jupyter Notebook
â”œâ”€â”€ clipboard_html_to_markdown.py # å‰ªè´´æ¿HTMLè½¬Markdown
â”œâ”€â”€ clipboard_notes_mailto_wiznotes.py # å‰ªè´´æ¿å†…å®¹å‘é€è‡³ä¸ºçŸ¥
â”œâ”€â”€ config.py                    # é…ç½®ç®¡ç†ç±»
â”œâ”€â”€ config_manager.py            # é…ç½®ç®¡ç†å·¥å…·
â”œâ”€â”€ create_notes_from_md.py      # ä»MDæ–‡ä»¶åˆ›å»ºç¬”è®°
â”œâ”€â”€ delete_qiniu_files.py        # åˆ é™¤ä¸ƒç‰›äº‘æ–‡ä»¶
â”œâ”€â”€ demo_feishu_feature.py       # é£ä¹¦åŠŸèƒ½æ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ export_wiznotes_to_md.py     # å¯¼å‡ºä¸ºçŸ¥ç¬”è®°ä¸ºMD
â”œâ”€â”€ project_config.json          # é¡¹ç›®é…ç½®æ–‡ä»¶
â”œâ”€â”€ query_to_csv.py              # æŸ¥è¯¢å¹¶å¯¼å‡ºä¸ºCSV
â”œâ”€â”€ read_siyuan_config.py        # è¯»å–æ€æºé…ç½®
â”œâ”€â”€ README.md                    # æœ¬æ–‡æ¡£
â”œâ”€â”€ requirements.txt             # Pythonä¾èµ–
â”œâ”€â”€ siyuan_advanced_queries.json # SQLæŸ¥è¯¢æ•°æ®å¯¼å‡º
â”œâ”€â”€ urls_to_markdown.py          # ç½‘å€è½¬Markdown
â”œâ”€â”€ urls_to_siyuan.py            # ç½‘å€è½¬æ€æºç¬”è®°
â””â”€â”€ wiznotes_to_siyuan.py        # ä¸ºçŸ¥ç¬”è®°è¿ç§»åˆ°æ€æº
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

é¡¹ç›®åŒ…å«è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£å’Œè¯´æ˜ï¼š

### æ ¸å¿ƒåŠŸèƒ½æ–‡æ¡£
- **`docs/æ€æºç¬”è®°é«˜çº§SQLæŸ¥è¯¢ä½¿ç”¨æŒ‡å—.md`** - SQLæŸ¥è¯¢ç³»ç»Ÿå®Œæ•´ä½¿ç”¨æŒ‡å—ï¼ŒåŒ…å«æ‰€æœ‰22ä¸ªæŸ¥è¯¢åœºæ™¯çš„è¯¦ç»†è¯´æ˜
- **`docs/æ€æºç¬”è®°SQLæŸ¥è¯¢ç³»ç»Ÿæ€»ç»“.md`** - SQLæŸ¥è¯¢ç³»ç»Ÿçš„é¡¹ç›®æ€»ç»“å’Œæ ¸å¿ƒç‰¹æ€§ä»‹ç»
- **`docs/é…ç½®ç³»ç»Ÿä½¿ç”¨è¯´æ˜.md`** - é…ç½®ç®¡ç†ç³»ç»Ÿçš„è¯¦ç»†ä½¿ç”¨è¯´æ˜ï¼ŒåŒ…å«å‘½ä»¤è¡Œå’Œç¨‹åºæ¥å£
- **`docs/æ€æºç¬”è®°API.md`** - æ€æºç¬”è®°APIæ¥å£æ–‡æ¡£
- **`docs/æ€æºç¬”è®°æ•°æ®åº“è¡¨ä¸å­—æ®µ.md`** - æ€æºç¬”è®°æ•°æ®åº“ç»“æ„è¯´æ˜

### æ–°åŠŸèƒ½æ–‡æ¡£
- **`docs/é£ä¹¦é“¾æ¥å¾®ä¿¡åŸæ–‡æå–åŠŸèƒ½è¯´æ˜.md`** - é£ä¹¦é“¾æ¥æ™ºèƒ½å¤„ç†åŠŸèƒ½çš„è¯¦ç»†ä½¿ç”¨æŒ‡å—
- **`docs/åŠŸèƒ½å®ç°æ€»ç»“.md`** - é£ä¹¦é“¾æ¥åŠŸèƒ½çš„å®ç°æ€»ç»“å’ŒæŠ€æœ¯ç»†èŠ‚
- **`docs/ä»Šæ—¥å¤´æ¡ä¹±ç ä¿®å¤è¯´æ˜.md`** - ä»Šæ—¥å¤´æ¡ç­‰ç½‘ç«™ä¹±ç é—®é¢˜çš„ä¿®å¤è¯´æ˜
- **`docs/ä¿®å¤æ€»ç»“å’Œä½¿ç”¨æŒ‡å—.md`** - ç¼–ç æ£€æµ‹å’Œå‹ç¼©å¤„ç†åŠŸèƒ½çš„ç»¼åˆä½¿ç”¨æŒ‡å—

### å·¥å…·ä½¿ç”¨æ–‡æ¡£
- **`docs/ä¸ƒç‰›äº‘æ–‡ä»¶æ‰¹é‡åˆ é™¤ä½¿ç”¨è¯´æ˜.md`** - ä¸ƒç‰›äº‘æ–‡ä»¶æ‰¹é‡åˆ é™¤å·¥å…·çš„ä½¿ç”¨è¯´æ˜

## å®‰å…¨æé†’
- **æ•°æ®å¤‡ä»½**: åœ¨æ‰§è¡Œä»»ä½•å¯èƒ½ä¿®æ”¹æ•°æ®çš„è„šæœ¬å‰ï¼Œè¯·åŠ¡å¿…å¤‡ä»½ä½ çš„æ€æºç¬”è®°æ•°æ®ã€‚
- **å‡­è¯å®‰å…¨**: å¦¥å–„ä¿ç®¡ä½ çš„ `.env` æ–‡ä»¶ï¼Œä¸è¦å°†åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚API Tokenã€å¯†ç ï¼‰çš„æ–‡ä»¶æäº¤åˆ°å…¬å…±ä»£ç åº“ã€‚
- **åˆ é™¤æ“ä½œ**: `delete_qiniu_files.py` ä¼šæ°¸ä¹…åˆ é™¤äº‘ç«¯æ–‡ä»¶ï¼Œè¯·åœ¨ç¡®è®¤æ— è¯¯åå†æ‰§è¡Œã€‚

---

**æ³¨æ„**ï¼šæ­¤å·¥å…·é›†ä¸»è¦ç”¨äºä¸ªäººç¬”è®°ç®¡ç†å’Œæ•°æ®è¿ç§»ï¼Œè¯·éµå®ˆç›¸å…³æœåŠ¡çš„ä½¿ç”¨æ¡æ¬¾ã€‚